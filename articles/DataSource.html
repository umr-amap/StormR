<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data source • StormR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data source">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">StormR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ExtractStorms.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Change log</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/umr-amap/StormR"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data source</h1>
            
            <h4 data-toc-skip class="date">2024-10-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/umr-amap/StormR/blob/master/vignettes/DataSource.Rmd" class="external-link"><code>vignettes/DataSource.Rmd</code></a></small>
      <div class="d-none name"><code>DataSource.Rmd</code></div>
    </div>

    
    
<p>Before running <code>StormR</code> functions users have to provide a
tropical storm track dataset either as a “.nc” (NetCDF) or a “.csv”
(CSV) file in which the location and some characteristics of storms are
given across their lifespan. Using a CSV file as a dataset implies
following few specific formatting rules, please refer to the <a href="#csv-formatting">CSV Formatting</a> section below. These files are
then used to create a <code>stormsDataset</code> object using the
<code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code> function. By default, the arguments of
<code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code> function are set up to create a
<code>stormsDataset</code> object using the USA fields in the NetCDF
IBTrACS database <a href="https://www.ncei.noaa.gov/products/international-best-track-archive" class="external-link">International
Best Track Archive for Climate Stewardship</a> (Knapp <em>et al.</em>,
<span class="citation">(2010)</span>, <span class="citation">(2018)</span>). This database provides a fairly
comprehensive record of worldwide tropical storms and cyclones with a
3-hours temporal resolution since 1. Other databases can be used as long
as the following fields are provided:</p>
<table class="table">
<colgroup>
<col width="11%">
<col width="17%">
<col width="37%">
<col width="20%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="center"><strong>Field name</strong></th>
<th align="center"><strong>Description</strong></th>
<th align="center"><strong>Format/Units</strong></th>
<th align="center"><strong>Example</strong></th>
<th align="center"><strong>Type</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><code>names</code></td>
<td align="center">Names of the storms</td>
<td align="center">Capital letters</td>
<td align="center">PAM</td>
<td align="center">Mandatory</td>
</tr>
<tr class="even">
<td align="center"><code>seasons</code></td>
<td align="center">Years of observations</td>
<td align="center">Calendar year</td>
<td align="center">2015</td>
<td align="center">Mandatory</td>
</tr>
<tr class="odd">
<td align="center"><code>isoTime</code></td>
<td align="center">Date and time of observations</td>
<td align="center">YYYY-MM-DD HH:mm:ss UTC</td>
<td align="center">2015-03-13 12:00:00</td>
<td align="center">Mandatory</td>
</tr>
<tr class="even">
<td align="center"><code>lon</code></td>
<td align="center">Longitude of the observations</td>
<td align="center">Eastern decimal degrees</td>
<td align="center">168.7</td>
<td align="center">Mandatory</td>
</tr>
<tr class="odd">
<td align="center"><code>lat</code></td>
<td align="center">Latitude of the observations</td>
<td align="center">Northern decimal degrees</td>
<td align="center">-17.6</td>
<td align="center">Mandatory</td>
</tr>
<tr class="even">
<td align="center"><code>msw</code></td>
<td align="center">Maximum sustained wind speed</td>
<td align="center"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>.</mi><msup><mi>s</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">m.s^{-1}</annotation></semantics></math></td>
<td align="center">77</td>
<td align="center">Mandatory</td>
</tr>
<tr class="odd">
<td align="center"><code>basin</code></td>
<td align="center">Name of the area where the storm originated.
Traditionally divided into seven basins</td>
<td align="center">NA (North Atlantic) <br> EP (Eastern North Pacific)
<br> WP (Western North Pacific) <br> NI (North Indian) <br> SI
(South Indian) <br> SP (Southern Pacific) <br> SA (South
Atlantic)</td>
<td align="center">SP</td>
<td align="center">Recommended<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^{1}</annotation></semantics></math>
</td>
</tr>
<tr class="even">
<td align="center"><code>rmw</code></td>
<td align="center">Radius of maximum winds: distance between the centre
of the storm and its band of strongest winds</td>
<td align="center"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">km</annotation></semantics></math></td>
<td align="center">20</td>
<td align="center">Recommended<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^{2}</annotation></semantics></math>
</td>
</tr>
<tr class="odd">
<td align="center"><code>pressure</code></td>
<td align="center">Central pressure</td>
<td align="center"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Pa</annotation></semantics></math></td>
<td align="center">91100</td>
<td align="center">Recommended<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>3</mn></msup><annotation encoding="application/x-tex">^{3}</annotation></semantics></math>
</td>
</tr>
<tr class="even">
<td align="center"><code>poci</code></td>
<td align="center">Pressure of the last closed isobar</td>
<td align="center"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Pa</annotation></semantics></math></td>
<td align="center">92200</td>
<td align="center">Recommended<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>3</mn></msup><annotation encoding="application/x-tex">^{3}</annotation></semantics></math>
</td>
</tr>
<tr class="odd">
<td align="center"><code>sshs</code></td>
<td align="center">Saffir-Simpson hurricane wind scale rating based on
<code>msw</code> (here in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>.</mi><msup><mi>s</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">m.s^{-1}</annotation></semantics></math>)</td>
<td align="center">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">-1 =</annotation></semantics></math>
Tropical depression (<code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">&lt; 18</annotation></semantics></math>)
<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">0 =</annotation></semantics></math>
Tropical storm
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>≤</mo></mrow><annotation encoding="application/x-tex">18 \leq</annotation></semantics></math><code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mn>33</mn></mrow><annotation encoding="application/x-tex">&lt; 33</annotation></semantics></math>)
<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">1 =</annotation></semantics></math>
Category 1
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>33</mn><mo>≤</mo></mrow><annotation encoding="application/x-tex">33  \leq</annotation></semantics></math><code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mn>42</mn></mrow><annotation encoding="application/x-tex">&lt; 42</annotation></semantics></math>)
<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">2 =</annotation></semantics></math>
Category 2
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn><mo>≤</mo></mrow><annotation encoding="application/x-tex">42 \leq</annotation></semantics></math><code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mn>49</mn></mrow><annotation encoding="application/x-tex">&lt; 49</annotation></semantics></math>)
<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">3 =</annotation></semantics></math>
Category 3
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>49</mn><mo>≤</mo></mrow><annotation encoding="application/x-tex">49 \leq</annotation></semantics></math><code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mn>58</mn></mrow><annotation encoding="application/x-tex">&lt; 58</annotation></semantics></math>)
<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">4 =</annotation></semantics></math>
Category 4
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>58</mn><mo>≤</mo></mrow><annotation encoding="application/x-tex">58 \leq</annotation></semantics></math><code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mn>70</mn></mrow><annotation encoding="application/x-tex">&lt; 70</annotation></semantics></math>)
<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">5 =</annotation></semantics></math>
Category 5 (<code>msw</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mn>70</mn></mrow><annotation encoding="application/x-tex">\ge 70</annotation></semantics></math>)</td>
<td align="center">5</td>
<td align="center">Optional<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>4</mn></msup><annotation encoding="application/x-tex">^{4}</annotation></semantics></math>
</td>
</tr>
</tbody>
</table>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>1</mn></msup><annotation encoding="application/x-tex">^{1}</annotation></semantics></math>
Providing the <code>basin</code> allows to filter storms in a particular
basin using the <code>basin</code> argument of the
<code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code> function. <br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>2</mn></msup><annotation encoding="application/x-tex">^{2}</annotation></semantics></math>
Providing <code>rmw</code> allows better estimates of wind speed and
direction in the <code>temporatlBehaviour()</code> and
<code><a href="../reference/spatialBehaviour.html">spatialBehaviour()</a></code> functions. If not provided,
<code>rmw</code> is approximated using an empirical formula derived from
Willoughby <em>et al.</em> <span class="citation">(2006)</span> as
follows,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>m</mi></msub><mo>=</mo><mn>46.4</mn><msup><mi>e</mi><mrow><mo stretchy="true" form="prefix">(</mo><mo>−</mo><mn>0.0155</mn><mo>×</mo><msub><mi>v</mi><mi>m</mi></msub><mo>+</mo><mn>0.0169</mn><mo>×</mo><mrow><mo stretchy="true" form="prefix">|</mo><mi>ϕ</mi><mo stretchy="true" form="postfix">|</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">R_m = 46.4e^{(-0.0155 \times v_m + 0.0169 \times
|\phi|)}</annotation></semantics></math>. <br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>3</mn></msup><annotation encoding="application/x-tex">^{3}</annotation></semantics></math>
If the <code>pressure</code> and <code>poci</code> fields are not
provided, both <span class="citation">Holland (1980)</span> and Boose
<em>et al.</em> <span class="citation">(2004)</span> wind field models
cannot be used in the <code>temporatlBehaviour()</code> and
<code><a href="../reference/spatialBehaviour.html">spatialBehaviour()</a></code> functions. <br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi></mi><mn>4</mn></msup><annotation encoding="application/x-tex">^{4}</annotation></semantics></math>
The <code>sshs</code> field is optional, if not provided this field is
automatically filled using the <code>msw</code> field.</p>
<div class="section level3">
<h3 id="downloading-a-data-source">Downloading a data source<a class="anchor" aria-label="anchor" href="#downloading-a-data-source"></a>
</h3>
<p>If not available, a storm track data set has to be downloaded. In the
following example we illustrate how a storm track data set can be
downloaded on the IBTrACKS website. Different “.nc” (NetCDF) files
containing storm track data sets can be downloaded <a href="https://www.ncei.noaa.gov/data/international-best-track-archive-for-climate-stewardship-ibtracs/v04r00/access/netcdf/" class="external-link">here</a>.
Please, follow the IBTrACS citation recommendations when using these
datasets (including citing Knapp <em>et al.</em> <span class="citation">(2010, 2018)</span>, and providing the access date for
the later). For example, track data for all the storms that occurred
over the last three years over the different basins world wide can be
download to the working directory as follows,</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://www.ncei.noaa.gov/data/international-best-track-archive-for-climate-stewardship-ibtracs/v04r00/access/netcdf/IBTrACS.last3years.v04r00.nc"</span>, destfile <span class="op">=</span> <span class="st">"./IBTrACS_ALL_3yrs.nc"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="creating-a-stormsdataset">Creating a <code>stormsDataset</code><a class="anchor" aria-label="anchor" href="#creating-a-stormsdataset"></a>
</h3>
<p>Once a storm track data set is available a <code>stormsDataset</code>
object can be created using the <code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code> function
as follows,</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/defStormsDataset.html">defStormsDataset</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"./IBTrACS_ALL_3yrs.nc"</span>, basin <span class="op">=</span> <span class="cn">NULL</span>, verbose <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in checkInputsdefStormsDataset(filename, sep, fields, basin, seasons, : No basin argument specified. StormR will work as expected</span></span>
<span><span class="co">##              but cannot use basin filtering for speed-up when collecting data</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sds</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Formal class 'stormsDataset' [package "StormR"] with 5 slots</span></span>
<span><span class="co">##   ..@ filename: chr "./IBTrACS_ALL_3yrs.nc"</span></span>
<span><span class="co">##   ..@ fields  : Named chr [1:10] "name" "season" "iso_time" "usa_lon" ...</span></span>
<span><span class="co">##   .. ..- attr(*, "names")= chr [1:10] "names" "seasons" "isoTime" "lon" ...</span></span>
<span><span class="co">##   ..@ basin   : chr "None"</span></span>
<span><span class="co">##   ..@ seasons : Named int [1:2] 2021 2024</span></span>
<span><span class="co">##   .. ..- attr(*, "names")= chr [1:2] "min" "max"</span></span>
<span><span class="co">##   ..@ database:List of 9</span></span>
<span><span class="co">##   .. ..$ names    : chr [1:266(1d)] "IMOGEN" "ELOISE" "JOSHUA" "KIMI" ...</span></span>
<span><span class="co">##   .. ..$ seasons  : int [1:266(1d)] 2021 2021 2021 2021 2021 2021 2021 2021 2021 2021 ...</span></span>
<span><span class="co">##   .. ..$ isotimes : chr [1:360, 1:266] "2021-01-01 00:00:00" "2021-01-01 03:00:00" "2021-01-01 06:00:00" "2021-01-01 09:00:00" ...</span></span>
<span><span class="co">##   .. ..$ longitude: num [1:360, 1:266] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   .. ..$ latitude : num [1:360, 1:266] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   .. ..$ msw      : num [1:360, 1:266] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   .. ..$ rmw      : num [1:360, 1:266] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   .. ..$ pressure : num [1:360, 1:266] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   .. ..$ poci     : num [1:360, 1:266] NA NA NA NA NA NA NA NA NA NA ...</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">sds</span><span class="op">@</span><span class="va">database</span><span class="op">$</span><span class="va">names</span>, <span class="va">sds</span><span class="op">@</span><span class="va">database</span><span class="op">$</span><span class="va">seasons</span>, <span class="st">" "</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 257</span></span></code></pre>
<p>This <code>stormsDataset</code> object contains track data for 275
storms. When using an IBTrACKS storm track data set, default arguments
can be used. By default, data provided by USA agencies (starting with
“usa_”) are used, but other data can be selected. For example, for the
South Pacific basin (“SP”), we can choose to use data provided by the
Australian Bureau of Meteorology (starting with “bom_”) in the IBTrACKS
data set as follows,</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/defStormsDataset.html">defStormsDataset</a></span><span class="op">(</span></span>
<span>  filename <span class="op">=</span> <span class="st">"IBTrACS_ALL_3yrs.nc"</span>,</span>
<span>  fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    names <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>    seasons <span class="op">=</span> <span class="st">"season"</span>,</span>
<span>    isoTime <span class="op">=</span> <span class="st">"iso_time"</span>,</span>
<span>    basin <span class="op">=</span> <span class="st">"basin"</span>,</span>
<span>    lon <span class="op">=</span> <span class="st">"bom_lon"</span>,</span>
<span>    lat <span class="op">=</span> <span class="st">"bom_lat"</span>,</span>
<span>    msw <span class="op">=</span> <span class="st">"bom_wind"</span>,</span>
<span>    rmw <span class="op">=</span> <span class="st">"bom_rmw"</span>,</span>
<span>    pressure <span class="op">=</span> <span class="st">"bom_pres"</span>,</span>
<span>    poci <span class="op">=</span> <span class="st">"bom_poci"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  basin <span class="op">=</span> <span class="st">"SP"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sds</span><span class="op">@</span><span class="va">database</span><span class="op">$</span><span class="va">names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 30</span></span></code></pre>
<p>This <code>stormsDataset</code> object contains track data for 38
storms in the South Pacific basin.</p>
</div>
<div class="section level3">
<h3 id="unit-conversion">Unit conversion<a class="anchor" aria-label="anchor" href="#unit-conversion"></a>
</h3>
<p>In the IBTrACS data sets speeds are given in knots
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">knt</annotation></semantics></math>),
distances in nautical miles
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">nm</annotation></semantics></math>),
and pressure in millibar
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">mb</annotation></semantics></math>)
but the models implemented in the <code><a href="../reference/temporalBehaviour.html">temporalBehaviour()</a></code> and
<code><a href="../reference/spatialBehaviour.html">spatialBehaviour()</a></code> functions compute wind speed, wind
direction, and summary statistics following the international system of
units (SI) or SI-derived units. Therefore, by default, when using
IBTrACS data sets, the <code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code> function converts
knots
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">knt</annotation></semantics></math>)
to meter per second
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>.</mi><msup><mi>s</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">m.s^{-1}</annotation></semantics></math>),
nautical miles
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">nm</annotation></semantics></math>)
to kilometres
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">km</annotation></semantics></math>),
and millibar
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">mb</annotation></semantics></math>)
to Pascal
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">pa</annotation></semantics></math>).</p>
<p>When using another source of data than IBTrACS, the
<code>unitConversion</code> argument of the
<code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code> function can be used to convert the data
to the desired units. The following conversions are available,</p>
<p>For <code>msw</code>: <br><code>knt2ms</code>: converts knot in
meter per second (default setting) <br><code>kmh2ms</code>: converts
kilometre per hour in meter per second <br><code>mph2ms</code>:
converts miles per hour in meter per second <br><code>None</code>: no
conversion <br></p>
<p>For <code>rmw</code>: <br><code>nm2ms</code>: converts nautical
miles in kilometer (default setting) <br><code>None</code>: no
conversion <br></p>
<p>For both <code>pressure</code> and <code>poci</code>: <br><code>mb2pa</code>: converts millibar in Pascal (default setting) <br><code>b2pa</code>: converts bar in Pascal <br><code>atm2pa</code>:
converts atmosphere in Pascal <br><code>psi2pa</code>: converts psi
in Pascal <br><code>None</code>: no conversion <br></p>
</div>
<div class="section level3">
<h3 id="test-data-sets">Test data sets<a class="anchor" aria-label="anchor" href="#test-data-sets"></a>
</h3>
<p>A <code>test_dataset</code> is provided with the <code>StormR</code>
package in two formats (a NetCDF and a CSV file). This test data set
comprises the track data of nine storms that occurred near Vanuatu and
New Caledonia between 2015-2016 and 2020-2021, respectively.</p>
</div>
<div class="section level3">
<h3 id="csv-formatting">CSV Formatting<a class="anchor" aria-label="anchor" href="#csv-formatting"></a>
</h3>
<p>In order to load and read a CSV file in
<code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code>, it must stick to the following
rules:<br> * As for the NetCDF file, the CSV file must contains at
least a name, season, iso times, longitude, latitude,and a maximum wind
speed column. * Every observation (row) in the CSV must be sorted in
increasing order according to the ISO times AND joined by storm. For
example, if several storms happened during the same iso Times, the
observations for the storm that first appeared should be stacked before
the observations of the second one and so on.</p>
<p>In addition to these mandatory rules above, the default separator is
set to a single comma ‘,’. Nevertheless the user might decide to change
it using the <code>sep</code> parameter in
<code><a href="../reference/defStormsDataset.html">defStormsDataset()</a></code>.</p>
<p>Hereafter, an example where we access the data with
<code>test_dataset.csv</code>. Notice that the header of the csv and the
names of columns in <code>fields</code> input must be equals</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Header of the csv</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"test_dataset.csv"</span>, package <span class="op">=</span> <span class="st">"StormR"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      name season              iso_time  usa_lon   usa_lat usa_wind usa_sshs</span></span>
<span><span class="co">## 1 'LUCAS'   2021 '2021-01-29 00:00:00' 144.1000 -14.10000       20       -3</span></span>
<span><span class="co">## 2 'LUCAS'   2021 '2021-01-29 03:00:00' 144.4675 -13.90499       20       -3</span></span>
<span><span class="co">## 3 'LUCAS'   2021 '2021-01-29 06:00:00' 144.9000 -13.70000       20       -3</span></span>
<span><span class="co">## 4 'LUCAS'   2021 '2021-01-29 09:00:00' 145.4351 -13.48506       22       -3</span></span>
<span><span class="co">## 5 'LUCAS'   2021 '2021-01-29 12:00:00' 146.0000 -13.30000       25       -1</span></span>
<span><span class="co">## 6 'LUCAS'   2021 '2021-01-29 15:00:00' 146.5149 -13.16990       25       -1</span></span>
<span><span class="co">##   usa_rmw usa_pres usa_poci</span></span>
<span><span class="co">## 1      35      999     1001</span></span>
<span><span class="co">## 2      35      999     1001</span></span>
<span><span class="co">## 3      35      999     1001</span></span>
<span><span class="co">## 4      40     1000     1002</span></span>
<span><span class="co">## 5      45     1002     1004</span></span>
<span><span class="co">## 6      45     1000     1004</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Is already the default setting (in this particular case)</span></span>
<span><span class="va">fields</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>  seasons <span class="op">=</span> <span class="st">"season"</span>,</span>
<span>  isoTime <span class="op">=</span> <span class="st">"iso_time"</span>,</span>
<span>  lon <span class="op">=</span> <span class="st">"usa_lon"</span>,</span>
<span>  lat <span class="op">=</span> <span class="st">"usa_lat"</span>,</span>
<span>  msw <span class="op">=</span> <span class="st">"usa_wind"</span>,</span>
<span>  sshs <span class="op">=</span> <span class="st">"usa_sshs"</span>,</span>
<span>  rmw <span class="op">=</span> <span class="st">"usa_rmw"</span>,</span>
<span>  pressure <span class="op">=</span> <span class="st">"usa_pres"</span>,</span>
<span>  poci <span class="op">=</span> <span class="st">"usa_poci"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">SP_2015_2020_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/defStormsDataset.html">defStormsDataset</a></span><span class="op">(</span>fields <span class="op">=</span> <span class="va">fields</span>, seasons <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span>, <span class="fl">2020</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## === Loading data  ===</span></span>
<span><span class="co">## Open database... /home/runner/work/_temp/Library/StormR/extdata/test_dataset.nc opened</span></span>
<span><span class="co">## Collecting data ...</span></span>
<span><span class="co">## === DONE ===</span></span></code></pre>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-boose_landscape_2004" class="csl-entry">
Boose, E. R., Mayra I. Serrano, and David R. Foster. 2004.
<span>“Landscape and <span>Regional</span> <span>Impacts</span> of
<span>Hurricanes</span> in <span>Puerto</span>
<span>Rico</span>.”</span> <em>Ecological Monographs</em> 74 (2):
335–52. <a href="https://doi.org/10.1890/02-4057" class="external-link">https://doi.org/10.1890/02-4057</a>.
</div>
<div id="ref-holland_analytic_1980" class="csl-entry">
Holland, Greg J. 1980. <span>“An <span>Analytic</span>
<span>Model</span> of the <span>Wind</span> and <span>Pressure</span>
<span>Profiles</span> in <span>Hurricanes</span>.”</span> <em>Monthly
Weather Review</em> 108 (8): 1212–18. <a href="https://doi.org/10.1175/1520-0493(1980)108&lt;1212:AAMOTW&gt;2.0.CO;2" class="external-link">https://doi.org/10.1175/1520-0493(1980)108&lt;1212:AAMOTW&gt;2.0.CO;2</a>.
</div>
<div id="ref-knapp_international_2018" class="csl-entry">
Knapp, Kenneth R., Howard J. Diamond, James P. Kossin, Michael C. Kruk,
and Carl J. III Schreck. 2018. <span>“International <span>Best</span>
<span>Track</span> <span>Archive</span> for <span>Climate</span>
<span>Stewardship</span> (<span>IBTrACS</span>) <span>Project</span>,
<span>Version</span> 4.”</span> <a href="https://doi.org/10.25921/82ty-9e16" class="external-link">https://doi.org/10.25921/82ty-9e16</a>.
</div>
<div id="ref-knapp_international_2010" class="csl-entry">
Knapp, Kenneth R., Michael C. Kruk, David H. Levinson, Howard J.
Diamond, and Charles J. Neumann. 2010. <span>“The
<span>International</span> <span>Best</span> <span>Track</span>
<span>Archive</span> for <span>Climate</span> <span>Stewardship</span>
(<span>IBTrACS</span>): <span>Unifying</span> <span>Tropical</span>
<span>Cyclone</span> <span>Data</span>.”</span> <em>Bulletin of the
American Meteorological Society</em> 91 (3): 363–76. <a href="https://doi.org/10.1175/2009BAMS2755.1" class="external-link">https://doi.org/10.1175/2009BAMS2755.1</a>.
</div>
<div id="ref-willoughby_parametric_2006" class="csl-entry">
Willoughby, H. E., R. W. R. Darling, and M. E. Rahn. 2006.
<span>“Parametric <span>Representation</span> of the
<span>Primary</span> <span>Hurricane</span> <span>Vortex</span>.
<span>Part</span> <span>II</span>: <span>A</span> <span>New</span>
<span>Family</span> of <span>Sectionally</span> <span>Continuous</span>
<span>Profiles</span>.”</span> <em>Monthly Weather Review</em> 134 (4):
1102–20. <a href="https://doi.org/10.1175/MWR3106.1" class="external-link">https://doi.org/10.1175/MWR3106.1</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Baptiste Delaporte, Thomas Ibanez, Gunnar Keppel, Swen Jullien, Christophe Menkes, Thomas Arsouze.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
